<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="../../day05_jquery/js/jquery-3.4.1.min.js" type="text/javascript" charset="utf-8"></script>
		<style>
			.main{
				width: 500px;
				height: 500px;
				border: 1px solid black;
			}
			.mysel{
				width: 100px;
				height: 400px;
			}
			.btns{
				display: inline-block;
				position: relative;
				width: 200px;
				top: -200px;
				left: 50px;
			}
		</style>
	</head>
	<body>
		<div class="main">
			<span>未选列表</span><span style="margin-left: 270px;">已选列表</span>
			<select id="myselect" class="mysel" multiple="multiple">
				<option id="sel1" value="1">选项1</option>
				<option id="sel2" value="2">选项2</option>
				<option id="sel3" value="3">选项3</option>
				<option id="sel4" value="4">选项4</option>
				<option id="sel5" value="5">选项5</option>
			</select>
			<div class="btns">
				<input id="addone" type="button" value=">" /><br />
				<input id="addall" type="button" value=">>>" /><br />
				<input id="removeone" type="button" value="<" /><br />
				<input id="removeall" type="button" value="<<<" /><br />
			</div>
			<select id="yoursel" class="mysel" multiple="multiple">
			</select>
			<br />
			<input id="myBtn" type="button" value="获取已选列表的值" />
			<span id="myspan">在这里显示已选列表的选项 用逗号分隔</span>
		</div>
	</body>
	<script type="text/javascript">
		$("#addone").click(function(){
			var selecteds = $("#myselect").val();
			console.log(selecteds)
			for(var i=0;i<selecteds.length;i++){
				$("#yoursel").append($("#sel"+selecteds[i]));
			}
		})
		$("#removeone").click(function(){
			var selecteds = $("#yoursel").val();
			console.log(selecteds)
			for(var i=0;i<selecteds.length;i++){
				$("#myselect").append($("#sel"+selecteds[i]));
			}
		})
		$("#addall").click(function(){
			var selecteds = $("#myselect").children();
			for(var i=0;i<selecteds.length;i++){
				$("#yoursel").append(selecteds[i])
			}
		})
		$("#removeall").click(function(){
			var selecteds = $("#yoursel").children();
			for(var i=0;i<selecteds.length;i++){
				$("#myselect").append(selecteds[i])
			}
		})
		$("option").dblclick(function(){
			// $(this).parent().prop("id")
			if($(this).parent()[0]==$("#myselect")[0]){
				$("#yoursel").append($(this))
			}else{
				$("#myselect").append($(this));
			}
			// if(==)
		})
		$("#myBtn").click(function(){
			$("#myspan").html("");	
			var selecteds = $("#yoursel").children();
			var content = "";
			for(var i=0;i<selecteds.length;i++){
				if(i==selecteds.length-1){
					content = content+selecteds[i].innerHTML;
				}else{
					content = content+selecteds[i].innerHTML+", ";
				}
				// content[content.lastIndexOf(",")]
				// content = content.
			$("#myspan").html(content);	
			}
		})
	</script>
</html>
